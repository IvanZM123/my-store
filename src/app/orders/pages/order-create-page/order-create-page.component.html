<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-12 col-sm-8 col-md-6 col-lg-4 p-2">
            <div class="card border-0 bg-darken shadow">
                <div class="card-body">
                    <form [formGroup]="form" (ngSubmit)="create()">
                        <div class="form-group py-3">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>Buscar cliente</mat-label>
                                <input matInput autocomplete="off" [matAutocomplete]="auto" formControlName="client">
                                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayClient">
                                    <mat-option *ngFor="let client of filteredClients$ | async" [value]="client">
                                        <img src="{{ client.avatar }}" width="30px" height="30px"
                                            style="object-fit: cover;" class="rounded-circle" alt="Avatar">
                                        <span class="ms-3">{{ client.firstName }}</span>
                                    </mat-option>
                                </mat-autocomplete>
                                <mat-hint>Ingrese el nombre del cliente</mat-hint>
                            </mat-form-field>
                        </div>
                        <div class="form-group py-3">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>Buscar productos</mat-label>
                                <input matInput autocomplete="off" [matAutocomplete]="autoProd"
                                    formControlName="product">
                                <mat-autocomplete #autoProd="matAutocomplete" [displayWith]="displayProduct">
                                    <mat-option *ngFor="let product of filteredProducts$ | async" [value]="product">
                                        <img src="{{ product.picture }}" width="30px" height="30px"
                                            style="object-fit: cover;" class="rounded-circle" alt="Avatar">
                                        <span class="ms-3">{{ product.name }}</span>
                                    </mat-option>
                                </mat-autocomplete>
                                <mat-hint>Ingrese el nombre del producto</mat-hint>
                            </mat-form-field>
                        </div>
                        <div class="form-group py-3">
                            <mat-form-field appearance="fill" class="w-100">
                                <mat-label>Cantidad</mat-label>
                                <input formControlName="quantity" autocomplete="off" type="number" matInput>
                                <mat-hint>Ingrese la cantidad del producto</mat-hint>
                            </mat-form-field>
                        </div>

                        <div class="d-flex align-items-center pt-3">
                            <span class="spacer"></span>
                            <button type="button" routerLink="/orders"
                                class="btn text-purple border-0 mx-2">Cancelar</button>
                            <button type="submit" [disabled]="form.invalid"
                                class="btn bg-purple border-0 shadow py-2 px-3 mx-2">Crear orden</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>